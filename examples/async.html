<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Form Validator JS</title>
    <link rel="stylesheet" href="css/style.css" />
</head>
<body>
	
    <h1>Form Validator JS</h1>
    <h2>Async Example</h2>
    <form class="form-to-validate">
    	<p>
    		Name: 
    		<input type="text" name="name" />
    		<span class="error-detail"></span>
    	</p>
    	
    	<input type="submit" />
    </form>

    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<script src="../src/formValidator.js"></script>
	<script>

var rules = {
    name: [{  // cascading rule
        rule: function(value, successCallback, errorCallback) {
            setTimeout(function() {
                if (value > 1) {
                    successCallback();
                } else {
                    errorCallback();
                }
            }, 3000);
        },
        message: "Nome deve essere > 1"
    }, {  // cascading rule
        rule: function(value) {
            return true;
        },
        message: "Nome deve essere > 2"
    }, {  // cascading rule
        rule: function(value, successCallback, errorCallback) {
            setTimeout(function() {
                if (value > 3) {
                    successCallback();
                } else {
                    errorCallback();
                }
            }, 2000);
        },
        message: "Nome deve essere > 3"
    }, {  // cascading rule
        rule: function(value, successCallback, errorCallback) {
            setTimeout(function() {
                if (value > 4) {
                    successCallback();
                } else {
                    errorCallback();
                }
            }, 1000);
        },
        message: "Nome deve essere > 4"
    }]        
};

    </script>
    <script src="common.js"></script>
</body>
</html>